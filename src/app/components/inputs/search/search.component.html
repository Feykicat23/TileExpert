<div class="search-container" [class.active]="searchOpen">
  <div>
    <input
      type="text"
      class="search-input"
      [class.active]="searchOpen"
      [(ngModel)]="searchText"
      (focus)="openMenu()"
      (keydown.enter)="performSearch()"
      placeholder="Поисковый запрос"
    />
    <button class="search-btn" (click)="toggleSearch(!searchOpen)">
      <ng-container *ngIf="searchOpen; else defaultSvg">
        <i class="ri-arrow-left-line"></i>
      </ng-container>
      <ng-template #defaultSvg>
        <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
          <g clip-path="url(#clip0_3_1723)">
            <path
              d="M24.5 22H23.71L23.43 21.73C24.41 20.59 25 19.11 25 17.5C25 13.91 22.09 11 18.5 11C14.91 11 12 13.91 12 17.5C12 21.09 14.91 24 18.5 24C20.11 24 21.59 23.41 22.73 22.43L23 22.71V23.5L28 28.49L29.49 27L24.5 22ZM18.5 22C16.01 22 14 19.99 14 17.5C14 15.01 16.01 13 18.5 13C20.99 13 23 15.01 23 17.5C23 19.99 20.99 22 18.5 22Z"
              fill="white"/>
          </g>
          <defs>
            <clipPath id="clip0_3_1723">
              <rect width="24" height="24" fill="white" transform="translate(8 8)"/>
            </clipPath>
          </defs>
        </svg>
      </ng-template>
    </button>
  </div>

  <div *ngIf="menuOpen" class="search-menu">
    <div style="position: relative; display: flex; width: 100%">
      <div class="left-part">
        <div class="">
          <div class="title-list">
            <p class="history">История</p>
          </div>
          <div class="history-list">
            <ul>
              <li *ngFor="let li of historyList">
                <span>{{ li.label }} </span>
              </li>
            </ul>
          </div>
        </div>
      </div>

      <div class="right-part">

        <div class="input-container">
          <label for="input" class="author-label">Автор</label>
          <input id="input" type="text" placeholder="Имя и должность" class="custom-input"/>
        </div>

        <div class="checkbox-container">
          <div class="checkbox-item" *ngFor="let checkbox of SEARCH_OPTIONS">
            <input type="checkbox" id="{{checkbox.id}}" class="custom-checkbox">
            <label for="{{checkbox.id}}">{{ checkbox.label }}</label>
          </div>
        </div>

        <div>
          <span>Только</span>
          <div class="checkbox-container" style="max-width: 351px">
            <div class="checkbox-item" *ngFor="let checkbox of ONLY_OPTIONS">
              <input type="checkbox" id="{{checkbox.id}}" class="custom-checkbox">
              <label for="{{checkbox.id}}">{{ checkbox.label }}</label>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>

</div>



